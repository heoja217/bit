<!DOCTYPE html>

<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="../css/Bootstrap.min.css">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile.structure-1.4.0.min.css" />
<link rel="stylesheet" href="../css/jquery.mobile.icons.min.css"">

<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script> 
<script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script src="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js"></script>

<link rel="stylesheet" type="text/css"
	href="/carrot/css/fileinput.min.css">

<link rel="stylesheet" type="text/css"
	href="/carrot/css/bootstrap-select.css">
<link rel='stylesheet' href='/carrot/css/common-mobile.css'>




<meta charset="UTF-8">


<style type="text/css"> 
    table { width:100%; }
    table caption { text-align:left;  }
    table thead th { text-align:left; border-bottom-width:1px; border-top-width:1px; }
    table th, td { text-align:left; padding:6px;} 
</style> 


</head>

<body>
	<div data-role="page" data-theme="a">
		<div data-role="header" data-position="inline">
			<h1>Carrot</h1>
			<a href="index.html" data-icon="gear" class="ui-btn-right"
				style="border: #222222; background-color: #222222"></a>
			<div data-role="navbar" data-theme="a">
				<ul>
					<li><a href="../order/today.html" data-icon="star">today</a></li>
					<li><a href="../order/list.html" data-icon="grid">주문내역</a></li>
					<li><a href="../order/app.html" data-icon="plus"
						class="ui-btn-active">주문</a></li>
				</ul>
			</div>
		</div>
		<div data-role="content" data-theme="a">

			<fieldset data-role="controlgroup">
				<select name="select-native" id="select-native" data-icon="plus">
					<option>업체명</option>         
					<option value="1">납품업체1</option>         
					<option value="2">납품업체2</option>         
					<option value="3">납품업체3</option>     
				</select>
			</fieldset>


			<form action="#" method="get">

				<div data-role="fieldcontain">
					<label for="goodsCode">상품코드:</label> 
					<input type="search"
						name="goodsCode" id="goodsCode" />
				</div>
				<div data-role="fieldcontain">
					<label for="goodsName">상품명:</label> 
					<input type="search"
						name="goodsName" id="goodsName" />
				</div>
				<div data-role="fieldcontain">
					<label for="deleveryDate">배송요청일:</label> 
					<input id="delDate"
						type="text" data-role="date">
				</div>

				<div data-role="fieldcontain">
					<label for="select-choice-a" class="select">분류:</label> <select
						name="category" id="category" data-native-menu="false">
						<option>분류</option>
						<option value="청과류">청과류</option>
						<option value="육류">육류</option>
						<option value="양념">양념</option>
						<option value="야호">야호</option>
					</select>
				</div>

				<div data-role="fieldcontain">
					<label for="select-choice-a" class="select">단위:</label> <select
						name="unit" id="unit" data-native-menu="false">
						<option>단위</option>
						<option value="kg">kg</option>
						<option value="g">g</option>
						<option value="L">L</option>
						<option value="ea">EA</option>
					</select>
				</div>
				<div data-role="fieldcontain">
					<label for="slider">수량:</label>
				 	<input type="range" name="quantity" id="quantity" value="10" min="0" max="20" data-highlight="true"  />
				</div>
				
				<div class="ui-body ui-body-b">
					<fieldset class="ui-grid-a">
						<div class="ui-block-a">
						<button id="addItemBtn" type="button" data-theme="e">+</button>
						
						</div>
						<div class="ui-block-b">
							<button type="submit" data-theme="a">X</button>
						</div>
					</fieldset>
				</div>


 	 <table data-role="table" data-mode="columntoggle" class="ui-responsive ui-shadow" id="orderTable">
      <thead>
        <tr>
          <th data-priority="1">상품명</th>
          <th data-priority="2">단위</th>
          <th data-priority="3">수량</th>			
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <tr class="item1">
          <td>1</td>
          <td>2</td>
          <td>3</td>
          <td style="width:20%"><button class="delBtn" data-theme="c">삭제</button></td>
        </tr>

      </tbody>
    </table>
    
    
			<div data-role="fieldcontain">
				<fieldset class="ui-grid-a">
					<button style="height:50px" type="submit" data-theme="d">주문하기</button>
				</fieldset>
			</div>

			</form>

		</div>
	</div>
	






<script>
$(document).ready(function(){
    // 옵션추가 버튼 클릭시
    $("#addItemBtn").click(function(){
        // item 의 최대번호 구하기
        var lastItemNo = $("#orderTable tr:last").attr("class").replace("item", "");

        var newitem = $("#orderTable tr:eq(1)").clone();
        newitem.removeClass();
        newitem.find("td:eq(0)").attr("rowspan", "1");
        newitem.addClass("item"+(parseInt(lastItemNo)+1));

        $("#orderTable").append(newitem);
    });


    // 삭제버튼 클릭시
    $(".delBtn").live("click", function(){
        var clickedRow = $(this).parent().parent();
        var cls = clickedRow.attr("class");
         
        // 각 항목의 첫번째 row를 삭제한 경우 다음 row에 td 하나를 추가해 준다.
        if( clickedRow.find("td:eq(0)").attr("rowspan") ){
            if( clickedRow.next().hasClass(cls) ){
                clickedRow.next().prepend(clickedRow.find("td:eq(0)"));
            }
        }

        clickedRow.remove();
    });

});

$( "#delDate" ).datepicker();


</script>

</body>
</html>