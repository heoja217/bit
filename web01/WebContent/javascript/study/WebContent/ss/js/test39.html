<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>생성자 함수</title>
</head>
<body>
<script>
/* 생성자 함수란?
  객체 생성 후 호출하는 함수.
  객체에 필요한 변수와 함수를 등록한다.
  일반적인 용도로 호출하지 않는다.
  
  생성자 함수는 자바와 달리 별도의 문법이 존재하지 않음.
  생성자 함수는 대문자로 시작한다.
 */
"use strict";

// 일반 객체 생성 방식
var student1 = {"name" : "홍길동", "kor" : 100, "eng" : 89, "math" : 100};
var student2 = {"name" : "임꺽정", "kor" : 90, "eng" : 80, "math" : 70};
var student3 = {"name" : "장보고", "kor" : 70, "eng" : 90, "math" : 100};

//팩토리 함수 사용
function makeStudent(v1, v2, v3, v4) {
  var obj = {"name" : v1, "kor" : v2, "eng" : v3, "math" : v4};
  return obj;
}

var stud1 = makeStudent("홍길동", 100, 89, 100);
var stud2 = makeStudent("임꺽정", 90, 80, 70);
var stud3 = makeStudent("장보고", 70, 90, 100);


// 생성자 함수 사용 방식
// 생성자함수의 호출 전제조건: 반드시 new명령을 실행한 후 호출.

function Student(v1, v2, v3, v4) {
	//this라는 내부 변수에는 new명령으로 만든 객체(의 주소)가 들어있다.
	this.name = v1;
	this.kor = v2;
	this.eng = v3;
	this.math = v4;
}

var stude1 = new Student("홍길동", 100, 89, 100);
var stude2 = new Student("임꺽정", 90, 80, 70);
var stude3 = new Student("장보고", 70, 90, 100);


function displayScore(obj) {
	  console.log("------------------");
	  console.log("이름 :", obj.name);
	  console.log("국어 :", obj.kor);
	  console.log("영어 :", obj.eng);
	  console.log("수학 :", obj.math);
}

displayScore(stude1);
displayScore(stude2);
displayScore(stude3);

var studentx = Student("dd", 100,100,100); // 오류! 생성자함수는 
// 내부에서 this를 사용하기때문에 객체를 생성하지 않고 사용하면 오류발생

</script>
</body>
</html>